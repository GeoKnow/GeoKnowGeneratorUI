

<h3 class="green bold">Data Sources</h3>


<h4>SPARQL Endpoint</h4>

<div ng-controller="EndpointCtrl">

  <button type="button" class="btn btn-success btn-large"
    ng-click="new();" data-toggle="modal" data-target="#modalEndpoint">Add new Endpoint</button>

  <div class="modal fade" id="modalEndpoint">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h5 class="modal-title green bold">{{modaltitle}}</h5>
    </div>
    <div class="modal-body">
      <form name="endpointForm" class="form-horizontal" role="form" novalidate>
        <div class="form-group">
          <label for="uri" class="col-lg-2 control-label">Identifier</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" name="identifier" id="identifier" placeholder="Identifier" ng-model="endpoint.uri" ng-disabled="!isNew()" required regex-validate="identifier" unique-identifier>
            <div class="error" ng-show="endpointForm.identifier.$dirty && endpointForm.identifier.$invalid">Invalid:
              <span ng-show="endpointForm.identifier.$error.required || endpointForm.identifier.$error.regexValidate">Specify a valid identifier (letters and or numbers)</span>
              <span ng-show="endpointForm.identifier.$error.uniqueIdentifier">This identifier already exist</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="label" class="col-lg-2 control-label">Label</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" name="label" id="label" placeholder="Label" ng-model="endpoint.label" required>
            <div class="error" ng-show="endpointForm.label.$dirty && endpointForm.label.$invalid">Invalid:
              <span ng-show="endpointForm.label.$error.required">Specify a valid label</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="endpoint" class="col-lg-2 control-label">Endpoint</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" name="endpoint" id="endpoint" placeholder="Endpoint" ng-model="endpoint.endpoint" required regex-validate="sparqlEndpoint">
             <div class="error" ng-show="endpointForm.endpoint.$dirty && endpointForm.endpoint.$invalid">Invalid:
              <span ng-show="endpointForm.endpoint.$error.required || endpointForm.endpoint.$error.regexValidate ">Specify a valid endpoint</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="homepage" class="col-lg-2 control-label">Homepage</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" name="homepage" id="homepage" placeholder="Homepage" ng-model="endpoint.homepage" required regex-validate="url">
             <div class="error" ng-show="endpointForm.homepage.$dirty && endpointForm.homepage.$invalid">Invalid:
              <span ng-show="endpointForm.homepage.$error.required || endpointForm.homepage.$error.regexValidate ">Specify a valid homepage</span>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="submit" class="btn-sm btn-success" ng-click="save()" ng-disabled="endpointForm.$invalid || isUnchanged(endpoint)">Save</button>
      <button type="button" class="btn-sm btn-default" data-dismiss="modal" >Cancel</button>
    </div>
  </div><!-- /.modal window -->

  <table class="table table-striped">
  <thead>
    <tr>
      <th>Action</th>
      <th>Uri</th>
      <th>Label</th>
      <th>Endpoint</th>
      <th>Homepage</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="endpoint in endpoints">
      <td>
        <button type="button" class="btn btn-default btn-xs" ng-click="delete('{{endpoint.uri}}')"><span class="glyphicon glyphicon-trash"></span></button>
        <button type="button" class="btn btn-default btn-xs" ng-click="edit('{{endpoint.uri}}');" data-toggle="modal" data-target="#modalEndpoint"><span class="glyphicon glyphicon-edit"></span></button>
      </td>
      <td>{{endpoint.uri}}</td>
      <td>{{endpoint.label}}</td>
      <td>{{endpoint.endpoint}}</td>
      <td>{{endpoint.homepage}}</td>
    </tr>
  </tbody>
  </table>
<!-- EndpointCtrl Controller -->
</div>


<h4>Relational Databases</h4>

<div ng-controller="DatabaseCtrl">

  <button type="button" class="btn btn-success btn-large"
    ng-click="new();" data-toggle="modal" data-target="#modalDatabase">Add new Database</button>

  <div class="modal fade" id="modalDatabase">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h5 class="modal-title green bold">{{modaltitle}}</h5>
    </div>
    <div class="modal-body">
      <form name="databaseForm" class="form-horizontal" role="form" novalidate>
        <div class="form-group">
          <label for="identifier" class="col-lg-2 control-label">Identifier</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="identifier" name="identifier" placeholder="Identifier" ng-model="database.uri" ng-disabled="!isNew()" required regex-validate="identifier" unique-identifier >
            <div class="error" ng-show="databaseForm.identifier.$dirty && databaseForm.identifier.$invalid">Invalid:
              <span ng-show="databaseForm.identifier.$error.required || databaseForm.identifier.$error.regexValidate ">Specify a valid identifier (letters and or numbers)</span>
              <span ng-show="databaseForm.identifier.$error.uniqueIdentifier">This identifier already exist</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="label" class="col-lg-2 control-label">Label</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" name="label" id="label" placeholder="Label" ng-model="database.label" required>
            <div class="error" ng-show="databaseForm.label.$dirty && databaseForm.label.$invalid">Invalid:
              <span ng-show="databaseForm.label.$error.required">Specify a valid label</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="dbType" class="col-lg-2 control-label">Type</label>
          <div class="col-lg-10">
            <select id="dbType" name= "dbType" class="form-control" ng-model="database.dbType"
                ng-options="c.uri as c.label for c in databaseTypes" required>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="dbHost" class="col-lg-2 control-label">Host</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="dbHost" name="dbHost" placeholder="Host" ng-model="database.dbHost" required>
            <div class="error" ng-show="databaseForm.dbHost.$dirty && databaseForm.dbHost.$invalid">Invalid:
              <span ng-show="databaseForm.dbHost.$error.required">Specify a valid Host</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="dbPort" class="col-lg-2 control-label">Port</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="dbPort" name="dbPort" placeholder="Port" ng-model="database.dbPort" required>
            <div class="error" ng-show="databaseForm.dbPort.$dirty && databaseForm.dbPort.$invalid">Invalid:
              <span ng-show="databaseForm.dbPort.$error.required">Specify a valid port number</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="dbName" class="col-lg-2 control-label">Database Name</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="dbName" name="dbName" placeholder="Database" ng-model="database.dbName" required>
            <div class="error" ng-show="databaseForm.dbName.$dirty && databaseForm.dbName.$invalid">Invalid:
              <span ng-show="databaseForm.dbName.$error.required">Specify a valid database name</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="dbUser" class="col-lg-2 control-label">User</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="dbUser" name="dbUser" placeholder="User" ng-model="database.dbUser" required>
            <div class="error" ng-show="databaseForm.dbUser.$dirty && databaseForm.dbUser.$invalid">Invalid:
              <span ng-show="databaseForm.dbUser.$error.required">Specify a valid user</span>
            </div>
          </div>
        </div>
              <div class="form-group">
          <label for="dbPassword" class="col-lg-2 control-label">Password</label>
          <div class="col-lg-10">
            <input type="text" class="form-control" id="dbPassword" name="dbPassword" placeholder="Password" ng-model="database.dbPassword" required>
            <div class="error" ng-show="databaseForm.dbPassword.$dirty && databaseForm.dbPassword.$invalid">Invalid:
              <span ng-show="databaseForm.dbPassword.$error.required">Specify a valid password</span>
            </div>
          </div>
        </div>
      </form>

    </div>
    <div class="modal-footer">
      <button type="submit" class="btn-sm btn-success" ng-click="save()" ng-disabled="databaseForm.$invalid || isUnchanged(database)">Save</button>
      <button type="button" class="btn-sm btn-default" data-dismiss="modal">Cancel</button>
    </div>
  </div>

  <table class="table table-striped">
  <thead>
    <tr>
      <th>Action</th>
      <th>Uri</th>
      <th>Label</th>
      <th>Type</th>
      <th>Host</th>
      <th>Name</th>
      <th>Port</th>
      <th>User</th>
      <th>Password</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="database in databases">
      <td>
        <button type="button" class="btn btn-default btn-xs" ng-click="delete('{{database.uri}}')"><span class="glyphicon glyphicon-trash"></span></button>
        <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modalDatabase" ng-click="edit('{{database.uri}}'); "><span class="glyphicon glyphicon-edit"></span></button>
      </td>
      <td>{{database.uri}}</td>
      <td>{{database.label}}</td>
      <td>{{database.dbType}}</td>
      <td>{{database.dbHost}}</td>
      <td>{{database.dbName}}</td>
      <td>{{database.dbPort}}</td>
      <td>{{database.dbUser}}</td>
      <td>{{database.dbPassword}}</td>
    </tr>
  </tbody>
  </table>
<!-- DatabaseCtrl Controller -->
</div>

